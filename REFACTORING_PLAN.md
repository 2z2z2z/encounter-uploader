# üìã –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Encounter Uploader

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**Encounter Uploader** - –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–≤–Ω–µ–π –∏–≥—Ä—ã Encounter —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ª–∏–º–ø–∏–µ–∫ (15, 31, 63, 127 —Å–µ–∫—Ç–æ—Ä–æ–≤) –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ "100500 —Å–µ–∫—Ç–æ—Ä–æ–≤ –∏ –±–æ–Ω—É—Å–æ–≤".

### **üöÄ –ö–ª—é—á–µ–≤—ã–µ —Ü–µ–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
1. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –í–°–ï–• —Ç–∏–ø–æ–≤ —É—Ä–æ–≤–Ω–µ–π** - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è –û–ª–∏–º–ø–∏–µ–∫, Type100500 –∏ –±—É–¥—É—â–∏—Ö —Ç–∏–ø–æ–≤
2. **–õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤** - —Å 2-3 —á–∞—Å–æ–≤ –¥–æ 15-30 –º–∏–Ω—É—Ç
3. **100% –≥–∞—Ä–∞–Ω—Ç–∏—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö** - —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** - –æ–±—â–∏–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
–¢–∞–∫ –∫–∞–∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∞—è –∑–∞–¥–∞—á–∞, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ UI (–ø–æ—Ç–µ—Ä—è —Å—Ç–∏–ª–µ–π, –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–ª–æ–∫–æ–≤, –æ—à–∏–±–∫–∞ –≤ –≤–µ—Ä—Å—Ç–∫–µ –∏ —Ç.–¥.) –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ "–Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–µ—Ö–∞–ª–æ –∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ —Ö—É–∂–µ, —á–µ–º –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞" –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ß—Ç–æ–±—ã –Ω–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ ID –∏–≥—Ä—ã, –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–π –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å: test/test.
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —Ç–∞–∫:
1. –°–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, "–û–ª–∏–º–ø–∏–π–∫–∞ 127" –∏ "100500 —Å–µ–∫—Ç–æ—Ä–æ–≤ –∏ –±–æ–Ω—É—Å–æ–≤") —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º playwright –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞;
2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞;
3. –°–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, "–û–ª–∏–º–ø–∏–π–∫–∞ 127" –∏ "100500 —Å–µ–∫—Ç–æ—Ä–æ–≤ –∏ –±–æ–Ω—É—Å–æ–≤") —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º playwright –ø–æ—Å–ª–µ —à–∞–≥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞, —Å–ø—Ä–∞–≤–Ω–∏–≤–∞—è –∫–∞–∫ –≤—ã–≥–ª—è–¥–µ–ª–∏ –¥–æ.

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫ –º–æ–¥—É–ª—è–º, –ø–ª–∞–≥–∏–Ω–∞–º –∏ –ø—Ä–æ—á–µ–º—É
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∞–∫–∏–º-–ª–∏–±–æ –º–æ–¥—É–ª–µ–º, –ø–ª–∞–≥–∏–Ω–æ–º –∏ —Ç.–ø. (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–ª–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –º–æ–¥–µ–ª—è, –ø–ª–∞–≥–∏–Ω–∞ –∏–ª–∏ —á–µ–≥–æ-–ª–∏–±–æ –µ—â–µ —Å –ø–æ–º–æ—â—å—é context7.

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **Frontend**: Vue 3 + TypeScript + Tailwind CSS
- **Server**: Express.js –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –¥–ª—è Encounter API
- **Legacy Backend**: TypeScript backend (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker Compose + Nginx

---

## üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ú–∞—Å—à—Ç–∞–±–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** ‚ö†Ô∏è
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `Olymp15`, `Olymp31`, `Olymp63`, `Olymp127` —Å–æ–¥–µ—Ä–∂–∞—Ç ~589 —Å—Ç—Ä–æ–∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–≥–æ –∫–æ–¥–∞
- –†–∞–∑–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ç–æ—Ä–æ–≤: 15, 31, 63, 127)
- –î—É–±–ª–∏—Ä—É—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏: `applySectorMode`, `fillOpenSectors`, `onSendTask`, `onSendSector`, `onSendBonus`, `exportDataAs`, `importData`

### 2. **Legacy –∫–æ–¥**
- `backend/src/index.ts` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –î–≤–∞ —Ä–∞–∑–Ω—ã—Ö auth store: `store/auth.ts` –∏ `store/index.ts`
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è –¥–ª—è API
- –°–º–µ—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ UI –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É—Ä–æ–≤–Ω–µ–π

### 4. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**
- –ö–∞–∂–¥—ã–π —Ç–∏–ø —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—å–Ω–æ –≤ localStorage
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏

### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- –†–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –ø–æ–ª–µ–π –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìä –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª–µ–≤–æ–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|---------|---------|-----------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | ~3500 | ~1200 | **-65%** |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | 85% | 5% | **-94%** |
| –í—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞ | 2-3 —á–∞—Å–∞ | 15 –º–∏–Ω—É—Ç | **-92%** |
| –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ | 0% | 80% | **+80%** |
| –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ | - | 100% | ‚úÖ |
| –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö | - | 100% | ‚úÖ |

---

## üöÄ –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (7 —Ñ–∞–∑)

### **–§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏** üõ°Ô∏è
**–°—Ä–æ–∫: 1 –¥–µ–Ω—å**

#### **0.1 –°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

```typescript
// tests/utils/RequestValidator.ts
export class RequestValidator {
  private baseline: Map<string, RequestSnapshot> = new Map()
  
  /**
   * –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Ç–µ–∫—É—â–µ–π (—Ä–∞–±–æ—á–µ–π) –≤–µ—Ä—Å–∏–∏
   */
  async recordBaseline() {
    // –ü–µ—Ä–µ—Ö–≤–∞—Ç –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ /api/admin/*
    const interceptor = axios.interceptors.request.use((config) => {
      if (config.url?.includes('/api/admin/')) {
        this.baseline.set(config.url, {
          url: config.url,
          method: config.method,
          headers: config.headers,
          data: this.parseFormData(config.data),
          timestamp: Date.now()
        })
      }
      return config
    })
    
    // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
    await this.runAllScenarios()
    axios.interceptors.request.eject(interceptor)
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–æ–≤ –≤ —Ñ–∞–π–ª
    await this.saveBaseline('tests/fixtures/request-baseline.json')
  }
  
  /**
   * –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ—Ç–∏–≤ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö
   */
  validateRequest(url: string, data: any): ValidationResult {
    const baseline = this.baseline.get(url)
    if (!baseline) {
      return { valid: false, error: `No baseline for ${url}` }
    }
    
    const validation = {
      valid: true,
      differences: [] as string[],
      missing: [] as string[],
      extra: [] as string[]
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π –∏–∑ —ç—Ç–∞–ª–æ–Ω–∞
    for (const [key, value] of Object.entries(baseline.data)) {
      if (!(key in data)) {
        validation.missing.push(key)
        validation.valid = false
      } else if (data[key] !== value && !this.isAcceptableDiff(key, value, data[key])) {
        validation.differences.push(`${key}: expected "${value}", got "${data[key]}"`)
        validation.valid = false
      }
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—à–Ω–∏—Ö –ø–æ–ª–µ–π
    for (const key of Object.keys(data)) {
      if (!(key in baseline.data)) {
        validation.extra.push(key)
        // –ù–µ —Å—á–∏—Ç–∞–µ–º –æ—à–∏–±–∫–æ–π, –Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ–º
      }
    }
    
    return validation
  }
  
  /**
   * –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
   */
  validateCriticalFields(requestType: 'task' | 'sector' | 'bonus', data: any): boolean {
    const criticalFields = {
      task: ['domain', 'gid', 'level', 'inputTask'],
      sector: ['domain', 'gid', 'level', 'savesector', /txtAnswer_\d+/, /ddlAnswerFor_\d+/],
      bonus: ['domain', 'gid', 'level', 'txtBonusName', /answer_-\d+/, 'txtHours', 'txtMinutes', 'txtSeconds']
    }
    
    const fields = criticalFields[requestType]
    return fields.every(field => {
      if (field instanceof RegExp) {
        return Object.keys(data).some(key => field.test(key))
      }
      return field in data
    })
  }
}
```

#### **0.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏**

```typescript
// tests/integration/upload.test.ts
describe('Upload Data Validation', () => {
  let validator: RequestValidator
  let baseline: Map<string, any>
  
  beforeAll(async () => {
    validator = new RequestValidator()
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    baseline = await validator.loadBaseline('tests/fixtures/request-baseline.json')
  })
  
  describe('Task Upload', () => {
    it('–¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ —Å —Ç–µ–º–∏ –∂–µ –ø–æ–ª—è–º–∏, —á—Ç–æ –∏ –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞', async () => {
      const mockData = createMockOlymp15Data()
      const result = await sendTask(
        mockData.domain,
        mockData.gameId,
        mockData.levelId,
        mockData.inputTask
      )
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–∞
      const validation = validator.validateRequest('/api/admin/task', result.requestData)
      expect(validation.valid).toBe(true)
      expect(validation.missing).toHaveLength(0)
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è
      expect(validator.validateCriticalFields('task', result.requestData)).toBe(true)
    })
  })
  
  describe('Sectors Upload', () => {
    it('–¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ–∫—Ç–æ—Ä—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π txtAnswer_N/ddlAnswerFor_N', async () => {
      const sectors = [
        { variants: ['–û–¢–í–ï–¢1', '–û–¢–í–ï–¢2'], sectorName: '' },
        { variants: ['–û–¢–í–ï–¢3'], sectorName: '–°–µ–∫—Ç–æ—Ä 2' }
      ]
      
      for (const sector of sectors) {
        const result = await sendSector(/*...*/)
        const validation = validator.validateRequest('/api/admin/sector', result.requestData)
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π txtAnswer_N –∏ ddlAnswerFor_N
        const answerFields = Object.keys(result.requestData).filter(k => k.startsWith('txtAnswer_'))
        const ddlFields = Object.keys(result.requestData).filter(k => k.startsWith('ddlAnswerFor_'))
        
        expect(answerFields.length).toBe(ddlFields.length)
        expect(answerFields.length).toBe(sector.variants.length)
      }
    })
  })
  
  describe('Bonuses Upload', () => {
    it('–¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –±–æ–Ω—É—Å—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ —É—Ä–æ–≤–Ω–µ–π', async () => {
      const bonuses = createMockBonuses()
      
      for (const bonus of bonuses) {
        const result = await sendBonuses(/*...*/)
        const data = result.requestData
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
        expect(data).toHaveProperty('txtHours')
        expect(data).toHaveProperty('txtMinutes')
        expect(data).toHaveProperty('txtSeconds')
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
        if (bonus.bonusTime.negative) {
          expect(data).toHaveProperty('negative', 'on')
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–µ–∫–±–æ–∫—Å—ã —É—Ä–æ–≤–Ω–µ–π
        if (bonus.allLevels) {
          expect(data.rbAllLevels).toBe('0')
        } else {
          expect(data.rbAllLevels).toBe('1')
          // –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω level_X=on
          const levelFields = Object.keys(data).filter(k => k.startsWith('level_'))
          expect(levelFields.length).toBeGreaterThan(0)
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è Type100500
        if (bonus.delay) {
          expect(data).toHaveProperty('chkDelay', 'on')
          expect(data).toHaveProperty('txtDelayHours')
        }
        
        if (bonus.relativeLimit) {
          expect(data).toHaveProperty('chkRelativeLimit', 'on')
          expect(data).toHaveProperty('txtValidHours')
        }
      }
    })
  })
})
```

#### **0.3 Snapshot —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**

```typescript
// tests/snapshots/RequestSnapshots.ts
export class RequestSnapshots {
  /**
   * –°–æ–∑–¥–∞–µ—Ç —Å–Ω–∏–º–∫–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   */
  async createSnapshots() {
    const scenarios = [
      { type: 'olymp', sectors: 15 },
      { type: 'olymp31', sectors: 31 },
      { type: 'olymp63', sectors: 63 },
      { type: 'olymp127', sectors: 127 },
      { type: '100500', sectors: 'multiple' }
    ]
    
    for (const scenario of scenarios) {
      const data = this.generateTestData(scenario)
      
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–Ω–∏–º–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
      await this.saveSnapshot(`task-${scenario.type}`, data.taskRequest)
      await this.saveSnapshot(`sectors-${scenario.type}`, data.sectorsRequests)
      await this.saveSnapshot(`bonuses-${scenario.type}`, data.bonusesRequests)
    }
  }
  
  /**
   * –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ —Å–Ω–∏–º–∫–∞–º–∏
   */
  compareWithSnapshot(name: string, currentRequest: any): SnapshotResult {
    const snapshot = this.loadSnapshot(name)
    const diff = deepDiff(snapshot, currentRequest)
    
    return {
      matches: diff.length === 0,
      differences: diff,
      recommendation: this.generateRecommendation(diff)
    }
  }
}
```

#### **0.4 –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

```
docs/
‚îú‚îÄ‚îÄ architecture/
‚îÇ   ‚îú‚îÄ‚îÄ current-structure.mmd    # –î–∏–∞–≥—Ä–∞–º–º–∞ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ target-structure.mmd     # –î–∏–∞–≥—Ä–∞–º–º–∞ —Ü–µ–ª–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ data-flow.mmd           # –°—Ö–µ–º—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ dependencies.mmd        # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

#### **0.5 –ß–∏—Å—Ç—ã–µ —Å–±–æ—Ä—â–∏–∫–∏ payload –∏ baseline –Ω–∞ –Ω–∏—Ö**

```typescript
// frontend/src/services/upload/builders.ts
export function buildTaskPayload(domain: string, gid: string | number, level: string | number, html: string) {
  return new URLSearchParams({ domain, gid: String(gid), level: String(level), inputTask: html })
}

export function buildSectorPayload(domain: string, gid: string | number, level: string | number, variants: string[], sectorName = '') {
  const params = new URLSearchParams({
    domain,
    gid: String(gid),
    level: String(level),
    txtSectorName: sectorName,
    savesector: ' '
  })
  variants.forEach((v, i) => {
    params.append(`txtAnswer_${i}`, v)
    params.append(`ddlAnswerFor_${i}`, '0')
  })
  return params
}

export function buildBonusPayload(args: {
  domain: string
  gid: string | number
  level: string | number
  name?: string
  task?: string
  hint?: string
  variants: string[]
  time: { hours: number; minutes: number; seconds: number; negative?: boolean }
  delay?: { hours?: number; minutes?: number; seconds?: number }
  relativeLimit?: { hours?: number; minutes?: number; seconds?: number }
  allLevels: boolean
  levelCheckboxNames?: string[] // when allLevels=false
}) {
  const p = new URLSearchParams({ domain: args.domain, gid: String(args.gid), level: String(args.level) })
  p.append('txtBonusName', args.name || '')
  p.append('txtTask', args.task || '')
  p.append('txtHelp', args.hint || '')
  args.variants.forEach((v, i) => p.append(`answer_-${i + 1}`, v))
  p.append('txtHours', String(args.time.hours))
  p.append('txtMinutes', String(args.time.minutes))
  p.append('txtSeconds', String(args.time.seconds))
  if (args.time.negative) p.append('negative', 'on')
  if (args.delay && (args.delay.hours || args.delay.minutes || args.delay.seconds)) {
    p.append('chkDelay', 'on')
    p.append('txtDelayHours', String(args.delay.hours || 0))
    p.append('txtDelayMinutes', String(args.delay.minutes || 0))
    p.append('txtDelaySeconds', String(args.delay.seconds || 0))
  }
  if (args.relativeLimit && (args.relativeLimit.hours || args.relativeLimit.minutes || args.relativeLimit.seconds)) {
    p.append('chkRelativeLimit', 'on')
    p.append('txtValidHours', String(args.relativeLimit.hours || 0))
    p.append('txtValidMinutes', String(args.relativeLimit.minutes || 0))
    p.append('txtValidSeconds', String(args.relativeLimit.seconds || 0))
  }
  p.append('rbAllLevels', args.allLevels ? '0' : '1')
  if (!args.allLevels && Array.isArray(args.levelCheckboxNames)) {
    args.levelCheckboxNames.forEach((name) => p.append(name, 'on'))
  }
  return p
}
```

```typescript
// tests/utils/RequestValidator.ts (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞)
// –ò—Å–ø–æ–ª—å–∑—É–µ–º builders –≤ baseline/–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –±–µ–∑ —Å–µ—Ç–∏
const taskParams = buildTaskPayload('126', 123, 1, '<html/>')
expect(validator.validateRequest('/api/admin/task', Object.fromEntries(taskParams))).toEqual({ valid: true, missing: [], differences: [], extra: [] })
```

---

### **–§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è –í–°–ï–• —Ç–∏–ø–æ–≤ —É—Ä–æ–≤–Ω–µ–π** üéØ
**–°—Ä–æ–∫: 2-3 –¥–Ω—è**

#### **1.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

```
frontend/src/components/
‚îú‚îÄ‚îÄ shared/                    # üÜï –û–±—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ forms/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AnswerInput.vue          # –ü–æ–ª—è –≤–≤–æ–¥–∞ –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BonusTimeInput.vue       # –í—Ä–µ–º—è –±–æ–Ω—É—Å–∞  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SectorControls.vue       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ç–æ—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DelayControls.vue        # –ó–∞–¥–µ—Ä–∂–∫–∞ (–∏–∑ Type100500)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LimitControls.vue        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–∏–∑ Type100500)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LevelSelector.vue        # –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω–µ–π (–∏–∑ Type100500)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TabsManager.vue          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–∞–º–∏ (–∏–∑ Type100500)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ExportImportButtons.vue  # –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ tables/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseTable.vue            # –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OlympTable.vue           # –û–ª–∏–º–ø–∏–π—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BulkTable.vue            # –¢–∞–±–ª–∏—Ü–∞ Type100500 (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TableRow.vue             # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VirtualTable.vue         # –î–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ modals/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PreviewModal.vue         # –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExportModal.vue          # –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LevelsModal.vue          # –ú–æ–¥–∞–ª–∫–∞ –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω–µ–π (–∏–∑ Type100500)
‚îÇ   ‚îî‚îÄ‚îÄ layout/
‚îÇ       ‚îú‚îÄ‚îÄ LevelHeader.vue          # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —É—Ä–æ–≤–Ω—è
‚îÇ       ‚îú‚îÄ‚îÄ ErrorDisplay.vue         # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
‚îÇ       ‚îî‚îÄ‚îÄ ActionButtons.vue        # –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
‚îú‚îÄ‚îÄ level-system/              # üÜï –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏ —É—Ä–æ–≤–Ω–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ core/                  # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseLevelType.vue        # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ composables/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useLevelLogic.ts     # –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —É—Ä–æ–≤–Ω–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useOlympLogic.ts     # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞ –æ–ª–∏–º–ø–∏–µ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useBulkLogic.ts      # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞ Type100500
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useExportImport.ts   # –û–±—â–∏–π —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useUpload.ts         # –û–±—â–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useValidation.ts     # –û–±—â–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LevelType.ts         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∏–ø–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Capabilities.ts      # –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UploadData.ts        # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mixins/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ OlympMixin.ts        # üÜï –ú–∏–∫—Å–∏–Ω —Ñ—É–Ω–∫—Ü–∏–π –æ–ª–∏–º–ø–∏–µ–∫
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BulkMixin.ts         # üÜï –ú–∏–∫—Å–∏–Ω —Ñ—É–Ω–∫—Ü–∏–π Type100500
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ CustomMixin.ts       # üÜï –ú–∏–∫—Å–∏–Ω –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ registry/              # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LevelTypeRegistry.ts     # –†–µ–µ—Å—Ç—Ä —Ç–∏–ø–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PluginLoader.ts          # –ó–∞–≥—Ä—É–∑—á–∏–∫ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TypeValidator.ts         # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ templates/             # –®–∞–±–ª–æ–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ OlympTemplate.vue        # –®–∞–±–ª–æ–Ω –æ–ª–∏–º–ø–∏–π–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ BulkTemplate.vue         # –®–∞–±–ª–æ–Ω –º–∞—Å—Å–æ–≤–æ–≥–æ —Ç–∏–ø–∞
‚îÇ       ‚îú‚îÄ‚îÄ MixedTemplate.vue        # üÜï –®–∞–±–ª–æ–Ω —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
‚îÇ       ‚îî‚îÄ‚îÄ CustomTemplate.vue       # –®–∞–±–ª–æ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ç–∏–ø–∞
‚îî‚îÄ‚îÄ level-types/               # üÜï –ì–æ—Ç–æ–≤—ã–µ —Ç–∏–ø—ã —É—Ä–æ–≤–Ω–µ–π (—Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
    ‚îú‚îÄ‚îÄ olymp/                 # –°–µ–º–µ–π—Å—Ç–≤–æ –æ–ª–∏–º–ø–∏–µ–∫
    ‚îÇ   ‚îú‚îÄ‚îÄ Olymp15.vue        # = OlympTemplate + { sectors: 15 }
    ‚îÇ   ‚îú‚îÄ‚îÄ Olymp31.vue        # = OlympTemplate + { sectors: 31 }
    ‚îÇ   ‚îú‚îÄ‚îÄ Olymp63.vue        # = OlympTemplate + { sectors: 63 }
    ‚îÇ   ‚îî‚îÄ‚îÄ Olymp127.vue       # = OlympTemplate + { sectors: 127 }
    ‚îú‚îÄ‚îÄ bulk/                  # –°–µ–º–µ–π—Å—Ç–≤–æ –º–∞—Å—Å–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
    ‚îÇ   ‚îî‚îÄ‚îÄ Type100500.vue     # = BulkTemplate + –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ‚îî‚îÄ‚îÄ custom/                # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã (–ø—Ä–∏–º–µ—Ä—ã –∏ –±—É–¥—É—â–∏–µ)
        ‚îú‚îÄ‚îÄ LinearLevel.vue    # = MixedTemplate + OlympMixin + –∫–∞—Å—Ç–æ–º
        ‚îú‚îÄ‚îÄ QuestLevel.vue     # = CustomTemplate + –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–æ–µ
        ‚îî‚îÄ‚îÄ HybridLevel.vue    # = MixedTemplate + OlympMixin + BulkMixin
```

#### **1.2 –°–∏—Å—Ç–µ–º–∞ –º–∏–∫—Å–∏–Ω–æ–≤ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**

```typescript
// level-system/core/mixins/OlympMixin.ts
export function useOlympMixin() {
  return {
    // –õ–æ–≥–∏–∫–∞ –æ–ª–∏–º–ø–∏–µ–∫
    generateOlympLayout: (sectors: number, level: string) => generateOlympLayout(sectors, level),
    applySectorMode: (mode: SectorMode, answers: Answer[], sectors: number) => {
      const strategies = {
        all: () => answers.forEach(a => a.inSector = true),
        initialAndFinal: () => {
          const initial = Math.floor((sectors + 1) / 2)
          answers.forEach(a => a.inSector = a.number <= initial || a.number === sectors)
        },
        finalOnly: () => answers.forEach(a => a.inSector = a.number === sectors),
        custom: () => {}
      }
      strategies[mode]()
    },
    
    // UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ª–∏–º–ø–∏–µ–∫
    components: {
      SectorControls: () => import('@/components/shared/forms/SectorControls.vue'),
      OlympTable: () => import('@/components/shared/tables/OlympTable.vue')
    },
    
    // Capabilities –æ–ª–∏–º–ø–∏–µ–∫
    capabilities: [
      { type: 'task', required: true },
      { type: 'sectors', required: true },
      { type: 'bonuses', required: false }
    ]
  }
}

// level-system/core/mixins/BulkMixin.ts  
export function useBulkMixin() {
  return {
    // –õ–æ–≥–∏–∫–∞ Type100500
    createTab: () => ({ rows: [], quickTime: {}, sectorPattern: '', bonusPattern: '' }),
    addRow: (tab: Tab) => tab.rows.push(createNewRow()),
    removeRow: (tab: Tab, index: number) => tab.rows.splice(index, 1),
    
    // UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Type100500
    components: {
      TabsManager: () => import('@/components/shared/forms/TabsManager.vue'),
      DelayControls: () => import('@/components/shared/forms/DelayControls.vue'),
      LimitControls: () => import('@/components/shared/forms/LimitControls.vue'),
      LevelSelector: () => import('@/components/shared/forms/LevelSelector.vue'),
      BulkTable: () => import('@/components/shared/tables/BulkTable.vue')
    },
    
    // Capabilities Type100500
    capabilities: [
      { type: 'sectors', required: false },
      { type: 'bonuses', required: false },
      { type: 'delay', required: false },
      { type: 'limit', required: false },
      { type: 'levels', required: false }
    ]
  }
}

// level-system/core/mixins/CustomMixin.ts
export function useCustomMixin() {
  return {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
    addCustomField: (name: string, type: string, config?: any) => { /* ... */ },
    removeCustomField: (name: string) => { /* ... */ },
    validateCustomField: (name: string, value: any) => { /* ... */ },
    
    // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    components: {
      CustomFieldInput: () => import('@/components/shared/forms/CustomFieldInput.vue'),
      FlexibleTable: () => import('@/components/shared/tables/FlexibleTable.vue')
    }
  }
}
```

#### **1.3 –®–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**

```vue
<!-- level-system/templates/MixedTemplate.vue -->
<template>
  <BaseLevelType :level-type="mixedType" />
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useOlympMixin } from '../core/mixins/OlympMixin'
import { useBulkMixin } from '../core/mixins/BulkMixin'
import { useCustomMixin } from '../core/mixins/CustomMixin'

const props = defineProps<{
  useMixins: ('olymp' | 'bulk' | 'custom')[]
  config: any
}>()

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∏–∫—Å–∏–Ω–æ–≤
const mixins = computed(() => {
  const result: any = {}
  
  if (props.useMixins.includes('olymp')) {
    Object.assign(result, useOlympMixin())
  }
  
  if (props.useMixins.includes('bulk')) {
    Object.assign(result, useBulkMixin())
  }
  
  if (props.useMixins.includes('custom')) {
    Object.assign(result, useCustomMixin())
  }
  
  return result
})

const mixedType = computed(() => ({
  name: props.config.name,
  label: props.config.label,
  category: 'custom',
  capabilities: [
    ...mixins.value.capabilities || [],
    ...props.config.extraCapabilities || []
  ],
  components: mixins.value.components,
  // –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ –≤—Å–µ—Ö –º–∏–∫—Å–∏–Ω–æ–≤
  ...mixins.value
}))
</script>
```

#### **1.4 –ü—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±—Ä–∏–¥–Ω—ã—Ö —Ç–∏–ø–æ–≤**

```vue
<!-- level-types/custom/HybridLevel.vue -->
<template>
  <MixedTemplate 
    :use-mixins="['olymp', 'bulk']"
    :config="hybridConfig"
  />
</template>

<script setup lang="ts">
// –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ç–∏–ø: –æ–ª–∏–º–ø–∏–π–∫–∞ + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Type100500
const hybridConfig = {
  name: 'hybrid-olymp',
  label: '–û–ª–∏–º–ø–∏–π–∫–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏',
  extraCapabilities: [
    { type: 'delay', required: false },    // –ò–∑ Type100500
    { type: 'limit', required: false },    // –ò–∑ Type100500
    { type: 'levels', required: false }    // –ò–∑ Type100500
  ],
  sectors: 31,
  allowTabs: false,  // –û—Ç–∫–ª—é—á–∞–µ–º —Ç–∞–±—ã, –æ—Å—Ç–∞–≤–ª—è–µ–º –æ–ª–∏–º–ø–∏–π—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
  enableDelay: true, // –í–∫–ª—é—á–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑ Type100500
  enableLimits: true // –í–∫–ª—é—á–∞–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑ Type100500
}
</script>
```

```vue
<!-- level-types/custom/LinearLevel.vue -->
<template>
  <MixedTemplate 
    :use-mixins="['olymp', 'custom']"
    :config="linearConfig"
  />
</template>

<script setup lang="ts">
// –õ–∏–Ω–µ–π–Ω—ã–π —Ç–∏–ø: –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ª–∏–º–ø–∏–π–∫–∏ + –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
const linearConfig = {
  name: 'linear-level',
  label: '–õ–∏–Ω–µ–π–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å',
  extraCapabilities: [
    { type: 'custom', required: true, config: {
      customFields: [
        'stepOrder',      // –ü–æ—Ä—è–¥–æ–∫ —à–∞–≥–æ–≤
        'allowSkips',     // –†–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫–∏
        'stepNames'       // –ù–∞–∑–≤–∞–Ω–∏—è —à–∞–≥–æ–≤
      ]
    }}
  ],
  customFields: {
    stepOrder: { type: 'number', default: 1 },
    allowSkips: { type: 'boolean', default: false },
    stepNames: { type: 'text', default: '' }
  }
}
</script>
```

#### **1.5 –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LevelType**

```typescript
// level-system/core/types/LevelType.ts
export interface LevelTypeDefinition {
  name: string
  label: string
  category: 'olymp' | 'bulk' | 'custom'
  capabilities: LevelCapability[]
  defaultConfig: LevelConfig
  validator: (data: any) => ValidationResult
  uploader: (data: any) => Promise<UploadResult>
}

export interface LevelCapability {
  type: 'task' | 'sectors' | 'bonuses' | 'levels' | 'delay' | 'limit' | 'custom'
  required: boolean
  config?: any
}

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π —Å—Ö–µ–º–æ–π
import { z } from 'zod'

// –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä—è–¥–∞ –¥–∞–Ω–Ω—ã—Ö
export const UniversalAnswerSchema = z.object({
  id: z.union([z.string(), z.number()]),
  variants: z.array(z.string()).min(1, '–ö–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω'),
  inSector: z.boolean().default(false),
  inBonus: z.boolean().default(false),
  sectorName: z.string().optional(),
  bonusName: z.string().optional(),
  bonusTime: z.object({
    hours: z.number(),
    minutes: z.number(),
    seconds: z.number(),
    negative: z.boolean().optional()
  }).optional(),
  delay: z.object({
    hours: z.number().optional(),
    minutes: z.number().optional(),
    seconds: z.number().optional()
  }).optional(),
  relativeLimit: z.object({
    hours: z.number().optional(),
    minutes: z.number().optional(),
    seconds: z.number().optional()
  }).optional(),
  targetLevels: z.array(z.string()).optional(),
  allLevels: z.boolean().optional(),
  customFields: z.record(z.any()).optional(), // –î–ª—è –±—É–¥—É—â–∏—Ö —Ç–∏–ø–æ–≤
  
  // –ü–æ–ª—è, –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ –æ—Ç–ø—Ä–∞–≤–∫–µ, –∞ —Ç–æ–ª—å–∫–æ –¥–ª—è UI
  closedText: z.string().optional(),
  displayText: z.string().optional(),
  bonusTask: z.string().optional(),
  bonusHint: z.string().optional()
});

export type UniversalAnswer = z.infer<typeof UniversalAnswerSchema>;

export interface LevelTypeDefinition {
  name: string
  label: string
  category: 'olymp' | 'bulk' | 'custom'
  capabilities: LevelCapability[]
  defaultConfig: LevelConfig
  validator: (data: any) => ValidationResult
  uploader: (data: any) => Promise<UploadResult>
  schema: z.ZodType; // <-- –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞
}

export interface LevelCapability {
  type: 'task' | 'sectors' | 'bonuses' | 'levels' | 'delay' | 'limit' | 'custom'
  required: boolean
  config?: any
}
```

#### **1.3 –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤**

```vue
<!-- level-types/base/BaseLevelType.vue -->
<template>
  <div class="min-h-screen bg-blue-50 py-8">
    <div class="container mx-auto bg-white p-12 rounded-md shadow-sm">
      <!-- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <LevelHeader 
        :type="levelType.label"
        :author="authStore.username"
        :domain="store.domain"
        :game-id="store.gameId"
        :level-id="store.levelId"
      />
      
      <!-- –û—à–∏–±–∫–∏ -->
      <ErrorDisplay v-if="error" :error="error" />
      
      <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ capabilities -->
      <LevelControls 
        :capabilities="levelType.capabilities"
        :config="config"
        @update:config="updateConfig"
      />
      
      <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
      <component 
        :is="levelType.tableComponent"
        :data="data"
        :config="config"
        @update:data="updateData"
      />
      
      <!-- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
      <ActionButtons 
        :capabilities="levelType.capabilities"
        @export="handleExport"
        @import="handleImport"
        @upload-task="handleUploadTask"
        @upload-sectors="handleUploadSectors" 
        @upload-bonuses="handleUploadBonuses"
        @preview="handlePreview"
        @clear="handleClear"
      />
    </div>
    
    <!-- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <PreviewModal 
      v-if="showPreview"
      :data="data"
      :type="levelType"
      @close="showPreview = false"
    />
    
    <ExportModal
      v-if="showExport"
      :data="data"
      :type="levelType"
      @close="showExport = false"
    />
  </div>
</template>

<script setup lang="ts">
import { useLevelLogic } from './composables/useLevelLogic'
import { useExportImport } from './composables/useExportImport'
import { useUpload } from './composables/useUpload'

const props = defineProps<{
  levelType: LevelTypeDefinition
}>()

const {
  data,
  config,
  error,
  updateData,
  updateConfig,
  handleClear
} = useLevelLogic(props.levelType)

const {
  handleExport,
  handleImport,
  showExport
} = useExportImport(data, props.levelType)

const {
  handleUploadTask,
  handleUploadSectors,
  handleUploadBonuses
} = useUpload(data, props.levelType)
</script>
```

#### **1.4 –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

```vue
<!-- level-types/olymp/OlympLevelType.vue -->
<template>
  <BaseLevelType :level-type="olympType" />
</template>

<script setup lang="ts">
import { computed } from 'vue'
import BaseLevelType from '../base/BaseLevelType.vue'
import { useOlympDefinition } from './composables/useOlympLogic'

const props = defineProps<{
  sectors: number
}>()

const olympType = computed(() => useOlympDefinition(props.sectors))
</script>
```

```vue
<!-- level-types/bulk/BulkLevelType.vue -->
<template>
  <BaseLevelType :level-type="bulkType" />
</template>

<script setup lang="ts">
import { computed } from 'vue'
import BaseLevelType from '../base/BaseLevelType.vue'
import { useBulkDefinition } from './composables/useBulkLogic'

const bulkType = computed(() => useBulkDefinition())
</script>
```

#### **1.5 –ü—Ä–æ—Å—Ç—ã–µ –æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∏–ø–æ–≤**

```vue
<!-- level-types/olymp/variants/Olymp15.vue -->
<template>
  <OlympLevelType :sectors="15" />
</template>

<script setup lang="ts">
import OlympLevelType from '../OlympLevelType.vue'
</script>
```

```vue
<!-- level-types/bulk/Type100500.vue -->
<template>
  <BulkLevelType />
</template>

<script setup lang="ts">
import BulkLevelType from './BulkLevelType.vue'
</script>
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 1:**
- –ó–∞–ø—É—Å–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π

#### **1.6 –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞**

```typescript
// frontend/src/utils/text.ts
export function formatClosedText(text: string): string {
  const trimmed = text.trim()
  if (/^https?:\/\//i.test(trimmed)) {
    return `<a href="${trimmed}" target="_blank"><img src="${trimmed}" style="max-width:150px;max-height:150px"/></a>`
  }
  return text
}
```

```typescript
// level-system/core/composables/usePreview.ts
export function usePreview() {
  // –µ–¥–∏–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (closed/open) –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
}
```

---

### **–§–∞–∑–∞ 2: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** üì¶
**–°—Ä–æ–∫: 1 –¥–µ–Ω—å**

#### **2.1 –ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π**

```typescript
// store/unified/StateManager.ts
export class UnifiedStateManager {
  private states = new Map<string, VersionedState>()
  private migrations = new Map<number, MigrationFn>()
  
  constructor() {
    this.registerMigrations()
  }
  
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
  migrate(data: any): VersionedState {
    const version = data.version || 1
    let migrated = data
    
    for (let v = version; v < CURRENT_VERSION; v++) {
      migrated = this.migrations.get(v)?.(migrated) || migrated
    }
    
    return { ...migrated, version: CURRENT_VERSION }
  }
  
  // –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  persist(type: string, state: any) {
    const versioned = { ...state, version: CURRENT_VERSION }
    localStorage.setItem(`unified-${type}`, JSON.stringify(versioned))
    this.states.set(type, versioned)
  }
}
```

#### **2.2 –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è Pinia stores –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤ localStorage**

```typescript
// store/modules/upload.ts
interface UploadState {
  domain: string
  gameId: string
  levelId: string
  uploadType: string
  typeConfigs: Map<string, TypeConfig> // –ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
}

// –í UnifiedStateManager –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä–æ–≥—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π
function getStorageKey(type: string): string {
  return `encounter-uploader:v1:state:${type}`;
}

```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 2:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π –≤ localStorage

---

### **–§–∞–∑–∞ 3: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** üîå
**–°—Ä–æ–∫: 1 –¥–µ–Ω—å**

#### **3.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª**
–í–º–µ—Å—Ç–æ —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤-–æ–±—ë—Ä—Ç–æ–∫, –≤—Å–µ —Ç–∏–ø—ã —É—Ä–æ–≤–Ω–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö —Ç–∏–ø–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤—ã—Ö –æ–ª–∏–º–ø–∏–µ–∫) —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–º.

```typescript
// level-system/level-types.config.ts
import { z } from 'zod';
import { UniversalAnswerSchema } from './core/types/LevelType';

export const levelTypes = [
  {
    name: 'olymp15',
    label: '–û–ª–∏–º–ø–∏–π–∫–∞ (15 —Å–µ–∫—Ç–æ—Ä–æ–≤)',
    category: 'olymp',
    component: 'OlympTemplate', // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-—à–∞–±–ª–æ–Ω
    props: { sectors: 15 },    // Props –¥–ª—è —à–∞–±–ª–æ–Ω–∞
    schema: z.array(UniversalAnswerSchema)
  },
  {
    name: 'olymp31',
    label: '–û–ª–∏–º–ø–∏–π–∫–∞ (31 —Å–µ–∫—Ç–æ—Ä)',
    category: 'olymp',
    component: 'OlympTemplate',
    props: { sectors: 31 },
    schema: z.array(UniversalAnswerSchema)
  },
  // –ù–æ–≤–∞—è –æ–ª–∏–º–ø–∏–π–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π!
  {
    name: 'olymp255',
    label: '–û–ª–∏–º–ø–∏–π–∫–∞ (255 —Å–µ–∫—Ç–æ—Ä–æ–≤)',
    category: 'olymp',
    component: 'OlympTemplate',
    props: { sectors: 255 },
    schema: z.array(UniversalAnswerSchema)
  },
  {
    name: '100500',
    label: '100500 —Å–µ–∫—Ç–æ—Ä–æ–≤ –∏ –±–æ–Ω—É—Å–æ–≤',
    category: 'bulk',
    component: 'BulkTemplate',
    props: { enableTabs: true },
    // –°—Ö–µ–º–∞ –¥–ª—è Type100500 –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞
    schema: z.array(UniversalAnswerSchema.extend({
      hintCost: z.number().optional().describe('–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏')
    }))
  }
];
```

#### **3.2 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥**

`LevelTypeRegistry` –±—É–¥–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–Ω—Ñ–∏–≥. –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `UploadForm.vue` –±—É–¥–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –Ω—É–∂–Ω—ã–π —à–∞–±–ª–æ–Ω (`OlympTemplate`, `BulkTemplate`) –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –Ω–µ–≥–æ `props` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```typescript
// plugins/LevelTypeRegistry.ts
import { levelTypes } from '@/level-system/level-types.config.ts'

export class LevelTypeRegistry {
  private types = new Map<string, LevelTypeDefinition>()
  
  constructor() {
    this.registerTypesFromConfig();
  }
  
  private registerTypesFromConfig() {
    levelTypes.forEach(config => {
      this.types.set(config.name, {
        ...config,
        // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞-—à–∞–±–ª–æ–Ω–∞
        component: () => import(`@/level-system/templates/${config.component}.vue`)
      });
    });
  }

  getType(name: string) {
    return this.types.get(name);
  }

  listAllTypes() {
    return Array.from(this.types.values());
  }
}
```

#### **3.3 –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞**

**–í—Ä–µ–º—è: 1-5 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ—Ö–æ–∂–µ–≥–æ —Ç–∏–ø–∞, 30-60 –º–∏–Ω—É—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ**

1.  **–î–ª—è –ø–æ—Ö–æ–∂–µ–≥–æ —Ç–∏–ø–∞ (–Ω–æ–≤–∞—è –æ–ª–∏–º–ø–∏–π–∫–∞):**
    -   –û—Ç–∫—Ä—ã—Ç—å `level-types.config.ts`.
    -   –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ–ª–∏–º–ø–∏–π–∫–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å `name`, `label` –∏ `props.sectors`.

2.  **–î–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–õ–∏–Ω–µ–π–Ω—ã–π –∫–≤–µ—Å—Ç"):**
    -   –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-—à–∞–±–ª–æ–Ω `LinearTemplate.vue` –≤ `level-system/templates/`.
    -   –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–ª—è –Ω–µ–≥–æ —Å—Ö–µ–º—É –¥–∞–Ω–Ω—ã—Ö `LinearAnswerSchema` —Å –ø–æ–º–æ—â—å—é `Zod`.
    -   –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ `level-types.config.ts`, —É–∫–∞–∑–∞–≤ `component: 'LinearTemplate'` –∏ —Å–≤–æ—é `schema`.

3.  **–¢–∏–ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ UI –∏ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.** ‚ú®

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 3:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É—Ä–æ–≤–Ω–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ç–æ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ (5-–º–∏–Ω—É—Ç–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –æ–ª–∏–º–ø–∏–π–∫–∏)

---

### **–§–∞–∑–∞ 4: –°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ API —Å–µ—Ä–≤–∏—Å–∞** üîå
**–°—Ä–æ–∫: 1 –¥–µ–Ω—å**

#### **4.1 –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**

```
frontend/src/services/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ client.ts          # Axios –∫–ª–∏–µ–Ω—Ç —Å –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ upload.service.ts  # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ game.service.ts    # –†–∞–±–æ—Ç–∞ —Å –∏–≥—Ä–∞–º–∏
‚îú‚îÄ‚îÄ uploader.ts            # –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
‚îî‚îÄ‚îÄ index.ts               # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

#### **4.2 –£–¥–∞–ª–µ–Ω–∏–µ legacy –∫–æ–¥–∞**
- –£–¥–∞–ª–∏—Ç—å `backend/` –ø–æ–ª–Ω–æ—Å—Ç—å—é (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π auth store –∏–∑ `store/index.ts`
- –û—á–∏—Å—Ç–∏—Ç—å nginx.conf –æ—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫ backend

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- –£–¥–∞–ª–∏—Ç—å `frontend/src/services/api.ts` (–ª–µ–≥–∞—Å–∏ –≤—ã–∑–æ–≤—ã `/api/login`, `/api/upload`)
- –û–±–Ω–æ–≤–∏—Ç—å Vite proxy –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: `/api/*` ‚Üí `http://localhost:3001`
- –í—ã–Ω–µ—Å—Ç–∏ —Ç–∞–π–º–∏–Ω–≥–∏ –∏ —Ñ–ª–∞–≥–∏ –≤ `.env` (`VITE_SLEEP_MS`, `VITE_MAX_RETRIES`, `VITE_API_LOG`)

#### **4.3 BonusFormService –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**

```typescript
// api/bonus-form.service.ts
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ HTML —Ñ–æ—Ä–º—ã BonusEdit —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –∏–º—è —á–µ–∫–±–æ–∫—Å–∞ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –∏ –∫–∞—Ä—Ç—É –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π { label -> name }
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 4:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π

---

### **–§–∞–∑–∞ 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚ö°
**–°—Ä–æ–∫: 1-2 –¥–Ω—è**

#### **5.1 Code Splitting –ø–æ —Ç–∏–ø–∞–º**

```typescript
// router/index.ts
{
  path: '/upload/:type',
  component: () => import(
    `@/components/types/${route.params.type}/index.vue`
  )
}
```

```typescript
// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è Vite: –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —á–µ—Ä–µ–∑ import.meta.glob
const typeComponents = import.meta.glob('@/components/level-types/**/*.vue')
// ...–≤—ã–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ —Ç–∏–ø–∞ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
```

#### **5.2 Web Workers –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**

```typescript
// workers/olympGenerator.worker.ts
self.addEventListener('message', (e) => {
  const { sectors, level } = e.data
  const layout = generateOlympLayout(sectors, level)
  self.postMessage({ layout })
})
```

#### **5.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–æ–π: –ø–∞—É–∑–∞/–æ—Ç–º–µ–Ω–∞/–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ**

```typescript
// useUpload.ts
// –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏: pause(), resume(), cancel()
// UI: –∫–Ω–æ–ø–∫–∏ –ü–∞—É–∑–∞/–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å/–û—Ç–º–µ–Ω–∞ –≤ –æ–∫–Ω–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 5:**
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

### **–§–∞–∑–∞ 6: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ DevOps** üèóÔ∏è
**–°—Ä–æ–∫: 1 –¥–µ–Ω—å**

#### **6.1 –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

```yaml
# docker-compose.yml
version: '3.9'
services:
  app:
    build:
      context: .
      target: ${BUILD_TARGET:-production}
    environment:
      - NODE_ENV=${NODE_ENV:-production}
      - SESSION_STORE=${SESSION_STORE:-redis}
      - REDIS_URL=${REDIS_URL:-redis://redis:6379}
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
      interval: 30s
      timeout: 3s
      retries: 3
    
  redis:
    image: redis:alpine
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
```

#### **6.2 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

```
.env.example
‚îú‚îÄ‚îÄ API_BASE_URL
‚îú‚îÄ‚îÄ SESSION_SECRET
‚îú‚îÄ‚îÄ REDIS_URL
‚îî‚îÄ‚îÄ LOG_LEVEL
```

#### **6.3 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–π –∏ persist**

- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `express-session` –Ω–∞ Redis (production)
- –í–∫–ª—é—á–∏—Ç—å `trust proxy`, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cookie: `secure` (prod), `sameSite=lax`, —Ä–∞–∑—É–º–Ω—ã–π `ttl`
- –í Pinia –∏—Å–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–æ–ª—å –∏–∑ persist (—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –≤–∫–ª–∞–¥–∫–∏)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 6:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

---

### **–§–∞–∑–∞ 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚úÖ
**–°—Ä–æ–∫: 1 –¥–µ–Ω—å**

#### **7.1 –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**

```typescript
// tests/final-validation.ts
export async function runFinalValidation() {
  const validator = new RequestValidator()
  const results = {
    passed: [] as string[],
    failed: [] as string[],
    warnings: [] as string[]
  }
  
  // –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
  const testCases = [
    // Olymp15
    { type: 'olymp', task: true, sectors: 15, bonuses: 5 },
    // Olymp31
    { type: 'olymp31', task: true, sectors: 31, bonuses: 10 },
    // Type100500 —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
    { type: '100500', task: false, sectors: 50, bonuses: 30, 
      features: ['multiVariants', 'targetLevels', 'delay', 'relativeLimit'] }
  ]
  
  for (const testCase of testCases) {
    const result = await validator.runScenario(testCase)
    
    if (result.valid) {
      results.passed.push(`${testCase.type}: ‚úÖ –í—Å–µ –ø–æ–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —ç—Ç–∞–ª–æ–Ω—É`)
    } else {
      results.failed.push(`${testCase.type}: ‚ùå ${result.errors.join(', ')}`)
    }
  }
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
  return generateValidationReport(results)
}
```

#### **7.2 –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

```typescript
// monitoring/Analytics.ts
export class UploadAnalytics {
  trackUpload(type: string, metrics: UploadMetrics) {
    // –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    // –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
    // –û—à–∏–±–∫–∏
  }
  
  generateReport(): AnalyticsReport {
    return {
      avgUploadTime: this.calculateAverage('time'),
      successRate: this.calculateSuccessRate(),
      popularTypes: this.getPopularTypes(),
      errorPatterns: this.analyzeErrors()
    }
  }
}
```

---

## üîí –ì–∞—Ä–∞–Ω—Ç–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞:**

#### ‚úÖ **–î–ª—è Task:**
- –ù–∞–ª–∏—á–∏–µ `inputTask` —Å HTML –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `gid`, `level`, `domain`

#### ‚úÖ **–î–ª—è Sectors:**
- –ü–∞—Ä–Ω–æ—Å—Ç—å `txtAnswer_N` –∏ `ddlAnswerFor_N`
- –ù–∞–ª–∏—á–∏–µ `savesector` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø—Ä–æ–±–µ–ª
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤

#### ‚úÖ **–î–ª—è Bonuses:**
- –§–æ—Ä–º–∞—Ç `answer_-N` (—Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–ª—è `txtHours/Minutes/Seconds`
- –ß–µ–∫–±–æ–∫—Å—ã —É—Ä–æ–≤–Ω–µ–π `level_X=on`
- –†–∞–¥–∏–æ `rbAllLevels` (0 –∏–ª–∏ 1)
- –£—Å–ª–æ–≤–Ω—ã–µ –ø–æ–ª—è `chkDelay`, `chkRelativeLimit` –¥–ª—è Type100500

### **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
1. **Pre-refactoring**: –ó–∞–ø–∏—Å—å –≤—Å–µ—Ö —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–∞–∫ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö
2. **During refactoring**: –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ç–∏–≤ —ç—Ç–∞–ª–æ–Ω–æ–≤
3. **Post-refactoring**: –ü–æ–ª–Ω–æ–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **Rollback –ø–ª–∞–Ω**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ

---

## üìÖ –í—Ä–µ–º–µ–Ω–Ω–æ–π –ø–ª–∞–Ω

| –§–∞–∑–∞ | –°—Ä–æ–∫ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|------|-----------|
| **0. –í–∞–ª–∏–¥–∞—Ü–∏—è** | 1 –¥–µ–Ω—å | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| **1. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è Olymp** | 1-2 –¥–Ω—è | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** | 1 –¥–µ–Ω—å | üü° –í–∞–∂–Ω–æ |
| **3. –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤** | 2 –¥–Ω—è | üü° –í–∞–∂–Ω–æ |
| **4. API —Å–µ—Ä–≤–∏—Å** | 1 –¥–µ–Ω—å | üü° –í–∞–∂–Ω–æ |
| **5. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 1-2 –¥–Ω—è | üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ |
| **6. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | 1 –¥–µ–Ω—å | üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ |
| **7. –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** | 1 –¥–µ–Ω—å | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |

**–û–±—â–∏–π —Å—Ä–æ–∫: 8-11 –¥–Ω–µ–π**

---

## üõ†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- **VueUse** - –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –æ–±—â–∏—Ö –∑–∞–¥–∞—á
- **Valibot/Zod** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Vitest** - unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Playwright** - E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

```json
// .vscode/settings.json
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative"
}
```

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**

#### **–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ 70%**: —Å ~3500 –¥–æ ~1050 —Å—Ç—Ä–æ–∫
- ‚úÖ **–£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–∞ 95%**: 5 —Ñ–∞–π–ª–æ–≤ (4 Olymp + Type100500) ‚Üí 1 —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –Ω–∞ 95%**: —Å 2-3 —á–∞—Å–æ–≤ –¥–æ 15-30 –º–∏–Ω—É—Ç
- ‚úÖ **100% –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –≥–∞—Ä–∞–Ω—Ç–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ 85%**: –∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π
- ‚úÖ **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –≤—Å–µ —Ç–∏–ø—ã —É—Ä–æ–≤–Ω–µ–π —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–∑ –æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

#### **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

**üéØ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- Type100500 —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –±–∞–∑–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —á—Ç–æ –∏ –û–ª–∏–º–ø–∏–π–∫–∏
- –û–±—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫–Ω–æ–ø–∫–∏, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞)
- –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤

**üöÄ –õ–µ–≥–∫–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Olymp511 –∑–∞–π–º–µ—Ç 5 –º–∏–Ω—É—Ç (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–π–º–µ—Ç 15-30 –º–∏–Ω—É—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –≤ UI —Å–µ–ª–µ–∫—Ç–æ—Ä–µ
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –±–∞–∑–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

**üîß –ì–∏–±–∫–æ—Å—Ç—å:**
- –°–∏—Å—Ç–µ–º–∞ capabilities –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—é–±—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π
- Custom fields –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ UI –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–∞
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏ –∑–∞–≥—Ä—É–∑—á–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

**üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∏–ø–æ–≤ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
```
–í—Å–µ —Ç–∏–ø—ã —É—Ä–æ–≤–Ω–µ–π
‚îú‚îÄ‚îÄ –û–ª–∏–º–ø–∏–π–∫–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: olymp)
‚îÇ   ‚îú‚îÄ‚îÄ BaseLevelType ‚Üê OlympLevelType ‚Üê Olymp15/31/63/127
‚îÇ   ‚îî‚îÄ‚îÄ –ù–æ–≤—ã–µ: Olymp255, Olymp511, etc. (5 –º–∏–Ω—É—Ç –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ –ú–∞—Å—Å–æ–≤—ã–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: bulk)  
‚îÇ   ‚îú‚îÄ‚îÄ BaseLevelType ‚Üê BulkLevelType ‚Üê Type100500
‚îÇ   ‚îî‚îÄ‚îÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ: BulkExtended, BulkWithGroups, etc.
‚îî‚îÄ‚îÄ –ö–∞—Å—Ç–æ–º–Ω—ã–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: custom)
    ‚îú‚îÄ‚îÄ BaseLevelType ‚Üê LinearType, QuestType, TreeType
    ‚îî‚îÄ‚îÄ –õ—é–±—ã–µ –±—É–¥—É—â–∏–µ —Ç–∏–ø—ã (15-30 –º–∏–Ω—É—Ç –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
```

### **–ì–ª–∞–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

1. **üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. **üéØ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è**: Type100500 –∏ –û–ª–∏–º–ø–∏–π–∫–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. **‚ö° –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–≤–∏—Ç–∏—è**: –ù–æ–≤—ã–µ —Ç–∏–ø—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∑–∞ –º–∏–Ω—É—Ç—ã, –∞ –Ω–µ —á–∞—Å—ã
4. **üîß –ì–∏–±–∫–æ—Å—Ç—å**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ª—é–±—ã–º –±—É–¥—É—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ –∫–æ–¥–∞ –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è  
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É—Ä–æ–≤–Ω–µ–π
4. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å –§–∞–∑—ã 0** - —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–Ω–µ—Ç "—Å—Ç—Ä–∞—Ö–æ–≤–∫–æ–π" –Ω–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

---

## ü§î –û—Ç–≤–µ—Ç—ã –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### **1. –ú–æ–∂–µ—Ç –ª–∏ –Ω–æ–≤—ã–π —Ç–∏–ø –±—Ä–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑ –û–ª–∏–º–ø–∏–µ–∫ –∏ Type100500?**

**‚úÖ –î–∞, –ª–µ–≥–∫–æ!** –°–∏—Å—Ç–µ–º–∞ –º–∏–∫—Å–∏–Ω–æ–≤ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É:

```vue
<!-- –ü—Ä–∏–º–µ—Ä: –≥–∏–±—Ä–∏–¥–Ω—ã–π —Ç–∏–ø —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –æ–ª–∏–º–ø–∏–µ–∫ + Type100500 -->
<template>
  <MixedTemplate 
    :use-mixins="['olymp', 'bulk', 'custom']"
    :config="hybridConfig"
  />
</template>

<script setup lang="ts">
const hybridConfig = {
  name: 'super-hybrid',
  label: '–°—É–ø–µ—Ä-–≥–∏–±—Ä–∏–¥',
  // –ë–µ—Ä–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–ª–∏–º–ø–∏–π–∫–∏
  sectors: 63,
  // + –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑ Type100500  
  enableDelay: true,
  enableLimits: true,
  // + –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
  customFields: {
    storyMode: { type: 'boolean', default: false }
  }
}
</script>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- üèÜ –û–ª–∏–º–ø–∏–π—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏ –ª–æ–≥–∏–∫–∞ —Å–µ–∫—Ç–æ—Ä–æ–≤
- üì¶ –ó–∞–¥–µ—Ä–∂–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ Type100500
- üé® –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π
- **–ë–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞!**

### **2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫?**

**–í—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤—ã!** –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç:

#### **üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```
components/
‚îú‚îÄ‚îÄ shared/           # –û–±—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ level-system/     # –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ core/         # –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏ –º–∏–∫—Å–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ registry/     # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ templates/    # –®–∞–±–ª–æ–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
```

#### **üéØ –ì–æ—Ç–æ–≤—ã–µ —Ç–∏–ø—ã —É—Ä–æ–≤–Ω–µ–π:**
```
level-types/          # –¢–û–õ–¨–ö–û –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ olymp/           # –û–ª–∏–º–ø–∏–π–∫–∏ (15, 31, 63, 127)
‚îú‚îÄ‚îÄ bulk/            # Type100500 –∏ –µ–≥–æ –≤–∞—Ä–∏–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ custom/          # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** "–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤" –∏ "–ø—Ä–æ–¥—É–∫—Ç–æ–≤"
- ‚úÖ **–õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏** –≥–æ—Ç–æ–≤—ã–π —Ç–∏–ø –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **–õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏** –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞
- ‚úÖ **–ù–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã** –º–µ–∂–¥—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

### **3. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ?**

#### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –æ–ª–∏–º–ø–∏–π–∫–∏ (5 –º–∏–Ω—É—Ç)**
```vue
<!-- level-types/olymp/Olymp255.vue -->
<template>
  <OlympTemplate :sectors="255" />
</template>
```

#### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: Type100500 —Å –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ (10 –º–∏–Ω—É—Ç)**
```vue  
<!-- level-types/bulk/Type100500Plus.vue -->
<template>
  <BulkTemplate :config="{ enableGrouping: true, maxGroups: 50 }" />
</template>
```

#### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ç–∏–ø (20 –º–∏–Ω—É—Ç)**
```vue
<!-- level-types/custom/StoryOlymp.vue -->
<template>
  <MixedTemplate 
    :use-mixins="['olymp', 'custom']"
    :config="storyConfig"
  />
</template>

<script setup lang="ts">
const storyConfig = {
  name: 'story-olymp',
  label: '–°—é–∂–µ—Ç–Ω–∞—è –æ–ª–∏–º–ø–∏–π–∫–∞',
  sectors: 31,
  customFields: {
    storyText: { type: 'textarea', label: '–¢–µ–∫—Å—Ç –∏—Å—Ç–æ—Ä–∏–∏' },
    characterName: { type: 'text', label: '–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞' },
    plotTwist: { type: 'boolean', label: '–í–∫–ª—é—á–∏—Ç—å –ø–æ–≤–æ—Ä–æ—Ç —Å—é–∂–µ—Ç–∞' }
  }
}
</script>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- üö´ **–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–∏–∫—Å–∏–Ω—ã
- ‚ö° **–ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤  
- üéØ **–ß–µ—Ç–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –≥–æ—Ç–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
- üîß **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å** - –ª—é–±—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
